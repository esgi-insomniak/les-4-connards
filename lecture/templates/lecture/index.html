<!-- calendar.html -->
{% extends 'base.html' %}

{% block content %}
{% if user.is_staff %}
<div class="m-5 card bg-gray-800 w-96">
    <h1 class="text-lg text-center text-white my-3">Boite Ã  outils</h1>
    <ul class="flex justify-around my-3 text-white">
        <li><a href="/lecture/new">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            </a></li>  
    </ul>
</div>
{% endif %}
<h1 class="text-xl text-center text-white my-5">Liste des groupes de lecture</h1>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.0.1/index.global.min.js"></script>
<div id="calendar" class="mx-auto w-1/2"></div>
<script>
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            events: '/lecture/events',
            eventClick: function(event, jsEvent, view) {
                window.location.href = '/lecture/detail/' + event.event['_def'].publicId + '/';
            },
        });
        calendar.render();
      });
</script>
{% endblock %}